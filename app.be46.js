(()=>{"use strict";var e,t={1211:(e,t,r)=>{var n,a,o=r(5776),l=r(9823),s=(r(3948),r(1058),r(9714),r(6977),r(8862),r(2023),r(4572));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(7658);const u="ontouchstart"in window||(null===(n=navigator)||void 0===n?void 0:n.maxTouchPoints)>0||(null===(a=navigator)||void 0===a?void 0:a.msMaxTouchPoints)>0,p=(new Date).getTimezoneOffset(),m=window.navigator.language,d=e=>{window.insights&&"function"==typeof window.insights.track?window.insights.track(e):console.warn(JSON.stringify(e,null,4))},f=(e,t)=>d({id:"time",parameters:{locale:m,timezone:p,type:e,time:t}}),y=(e,t={})=>d({id:"error",parameters:i({locale:m,timezone:p,reason:e},t)}),h=e=>{try{const t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(t){return void y(`Load ${e} state failure`)}},v=(e,t)=>{try{const r=JSON.stringify(t);localStorage.setItem(e,r)}catch(t){y(`Save ${e} state failure`)}},P=e=>{const t=9*Math.floor(e/9);return[0,1,2,3,4,5,6,7,8].map((e=>e+t))},g=e=>{const t=e%9;return[0,9,18,27,36,45,54,63,72].map((e=>e+t))},b=e=>{const t=Math.floor(e/9),r=e%9,n=9*Math.floor(t/3)+Math.floor(r/3);return[0,1,2,9,10,11,18,19,20].map((e=>e+3*n))},w=(e,t,r,n,a,o)=>{if(r<0)return"";if(a.indexOf(t)>-1)return" error";if(t===r)return" focus";let l="";const s=o,c=new Set;P(r).forEach(c.add,c),g(r).forEach(c.add,c),b(r).forEach(c.add,c),e!==s&&Number(e)!==Number(s)||0===s||(l+=" v");const i=Number(s);if(i<10&&0!==i){const r=new Set;P(t).forEach(r.add,r),g(t).forEach(r.add,r),b(t).forEach(r.add,r),Array.from(r).some((e=>n[e]===i))&&(l+=" o"),"number"==typeof e&&e>0&&(l+=" h")}return"string"==typeof e&&"number"==typeof s&&e.split("").map((e=>parseInt(e,10))).indexOf(s)>=0&&(l+=` n nn${s}`),l},E=(e,t,r=!1,n,a)=>{if(r){if("number"==typeof e&&e>0);else if(0!==t){const r="string"==typeof e?e.split("").map((e=>parseInt(e,10))):[],o=r.indexOf(t),l=o>=0?r.slice(0,o).concat(r.slice(o+1)):r.concat(t);a(n,l.length?l.join(""):0,t)}}else a(n,t,t)},O=e=>{const t=document.querySelector(`section > div:nth-of-type(${e+1}) input`);t instanceof HTMLInputElement&&(t.focus(),""===t.value&&t.select())},Z=(e,t)=>{["system","light","dark","contrastLight","contrastDark","custom"].includes(e)&&(document.body.className="system"===e?"":e,t(e))},C=Array(81).fill(""),k=(e,t)=>{t(e.reduce(((e,t)=>("number"==typeof t&&(e[t]=e[t]?e[t]+1:1),e)),{}))};var S=r(9883);const j=h("type")||"classic",z=h("theme")||"system",M=h("ziped")||{},N=h("saved")||{"!Ny'#;a~'$Yi'5G'-@Cft'Qdru'*16U'+Kns',9jz":{lastPlayed:0,level:33,time:0}},T=h("stats")||{},$=h("level")||30,L={type:j,level:$<=70&&$>=17?$:30,theme:z,ziped:M,saved:N,stats:T,levelsFetched:h("levelsFetched")||[]};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(8674);const I=(e=[],t=[],r=[])=>e.concat(t.filter((t=>!e.includes(t)))).filter((e=>!r.includes(e))),A=(e,t,r,n=[])=>{const a=[].concat(Object.keys(t.saved),Object.keys(t.stats),n);var o;(o=e,new Promise(((e,t)=>{fetch(`/level/${o}.json`).then((e=>e.json())).then((t=>e(t))).catch((e=>t(e)))}))).then((n=>{const o=0===e?((e,t,r)=>{if(0===Object.keys(e).length)return t;{const n=D({},e);return Object.keys(t).forEach((e=>{t[e].forEach((t=>{r.includes(t)||(n[e]||(n[e]=[]),n[e].includes(t)||n[e].push(t))}))})),n}})(t.ziped,n,a):D(D({},t.ziped),{},{[e]:I(t.ziped[e],n[e],a)});r({type:"UpdateLevelsFetched",level:e}),r({type:"ZipedLevelsUpdated",zipedJSON:o})}))};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const J=(e,t)=>{switch(t.type){case"TypeChange":return v("type",t.typeValue),F(F({},e),{},{type:t.typeValue});case"ThemeChange":return v("theme",t.theme),F(F({},e),{},{theme:t.theme});case"ZipedLevelUpdated":{const r=F({},e.ziped);return r[t.level]=t.ziped,v("ziped",r),F(F({},e),{},{ziped:r})}case"ZipedLevelsUpdated":return v("ziped",t.zipedJSON),F(F({},e),{},{ziped:t.zipedJSON});case"StartGame":{const r=F({},e.ziped),n=F({},e.saved);return r[t.level]=(r[t.level]||[]).filter((e=>e!==t.ziped)),n[t.ziped]={lastPlayed:Date.now(),level:t.level,time:0},v("ziped",r),v("saved",n),F(F({},e),{},{ziped:r,saved:n})}case"SaveMoves":{const r=F({},e.saved);return r[t.ziped]=F(F({},r[t.ziped]),{},{lastPlayed:Date.now(),moves:t.moves,time:t.time}),v("saved",r),F(F({},e),{},{newSaved:r})}case"UpdateGameTime":{const r=F({},e.saved);return r[t.ziped]=F(F({},r[t.ziped]),{},{lastPlayed:Date.now(),time:t.time}),v("saved",r),F(F({},e),{},{newSaved:r})}case"CompleteGame":{const r=F({},e.stats),n=F({},e.saved);return r[t.ziped]=F(F({},e.saved[t.ziped]),{},{lastPlayed:Date.now(),time:t.time}),delete n[t.ziped],v("saved",n),v("stats",r),F(F({},e),{},{newSaved:n,newStats:r})}case"UpdateLevelsFetched":{const r=e.levelsFetched.filter((e=>e!==t.level));return r.push(t.level),v("levelsFetched",r),F(F({},e),{},{levelsFetched:r})}default:return y(`Unknown action: ${t.type}`),e}},H=(0,o.kr)({state:L,dispatch:()=>{}}),B=()=>(0,o.qp)(H),G=o.ZP.memo((({children:e})=>{const[t,r]=(0,o._Y)(J,L);return(0,o.d4)((()=>((e,t)=>{e.levelsFetched.includes(0)||A(0,e,t)})(t,r)),[]),o.ZP.createElement(H.Provider,{value:{state:t,dispatch:r}},e)})),V={BUTTONS:{classic:[1,2,3,4,5,6,7,8,9],emoji:["🤣","😍","🤔","😝","😴","🤧","🥳","😭","😉"],colors:["🔵","🟢","🔴","🟡","🟠","🟣","🟤","⚫","⚪"],animals:["🦩","🦒","🦋","🐇","🐋","🐄","🐠","🐕","🕷️"],sport:["⚽","🏀","🏐","🎾","🎱","⚾","🏈","🏓","🎳"],food:["🌭","🍕","🍟","🍔","🍿","🍩","🍰","🥞","🍦"],places:["🏖️","🗼","⛺","🗽","🕍","🗻","🕌","🏰","🎡"],flowers:["🌸","🌺","🌼","🌷","🌵","🪻","🌻","🌹","🪴"],objects:["⏰","🧳","🧸","🔦","🖥️","🕯️","🪑","🧯","📷"],transport:["⛵","🛩️","🛵","🏎️","🚲","🛴","🚁","🚤","🚂"]},ZIP:{HASH:"!#$&()*+,-./0123456789:;=?@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~",HASHSPLIT:"'"}},R=({fieldVal:e,i:t,initVal:r,focus:n,setFocus:a,puzleUpdate:l,overlap:s})=>{const{state:c}=B(),i=(0,o.sO)(!1),[u,p]=(e=>[Math.floor(e/9)+1,e%9+1])(t),m=e=>V.BUTTONS[c.type][e-1].toString(),d="string"==typeof e?e.split("").map((e=>parseInt(e,10))):[];return o.ZP.createElement(o.ZP.Fragment,null,o.ZP.createElement("div",{className:`s${Math.floor(t/9)+1}${n===t?" focus":""}${s}${r?" init":""}`},d.map((e=>o.ZP.createElement("span",{className:`n${e}`,key:e},m(e)))),o.ZP.createElement("input",{type:"text",inputMode:"none",value:void 0===e||"string"==typeof e||0===e?"":m(e),onChange:0!==r?void 0:r=>{const n=i.current,a=r.target.value.slice(-1),o=parseInt(a,10)||0,s=0===o&&i.current?(e=>{switch(e){case"!":return 1;case"@":return 2;case"#":return 3;case"$":return 4;case"%":return 5;case"^":return 6;case"&":return 7;case"*":return 8;case"(":return 9}return 0})(a):o;E(e,s,n,t,l)},onKeyDown:n=>{if("Backspace"===n.key)if("string"==typeof e){const r=e.slice(0,-1);l(t,""===r?0:r,""===r?0:parseInt(r,10))}else 0===r&&l(t,0,0);else i.current=n.getModifierState("CapsLock")||n.shiftKey,((e,t)=>{switch(e){case"ArrowRight":return O((t+1)%9?t+1:t-8);case"ArrowDown":return O(t+9>80?t-72:t+9);case"ArrowLeft":return O(t%9?t-1:t+8);case"ArrowUp":O(t-9<0?t+72:t-9)}})(n.key,t)},onSelect:e=>{e.preventDefault();const t=e.currentTarget;t.selectionStart=1,t.selectionEnd=1,setTimeout((()=>{t.selectionStart=1,t.selectionEnd=1}),100)},onFocus:()=>a(t),"aria-label":`Sudoku cell rows ${u} column ${p}`})))},W=o.ZP.memo(R),q=({level:e,setLevel:t,showLevel:r,close:n})=>{const[a,l]=(0,o.eJ)(e);return o.ZP.createElement("ul",{className:r?"":"hidden"},o.ZP.createElement("li",null,o.ZP.createElement("small",null,"The level is defined by the number of clues (cells with initial numbers). The game gets harder when there are less clues. Sudoku always has one unique solution, and must have minimum 17 clues.")),o.ZP.createElement("li",null,o.ZP.createElement("button",{onClick:()=>l(35)},"Easy"),o.ZP.createElement("button",{onClick:()=>l(29)},"Medium"),o.ZP.createElement("button",{onClick:()=>l(23)},"Hard"),o.ZP.createElement("button",{onClick:()=>l(17)},"Extreme")),o.ZP.createElement("li",null,o.ZP.createElement("label",null,o.ZP.createElement("input",{type:"range",min:17,max:70,step:"1",value:a,onChange:e=>{const t=parseInt(e.target.value,10);Number.isInteger(t)&&t<=70&&t>=17&&l(t)},"aria-label":"Difficulty Level"})),o.ZP.createElement("mark",{style:(e=>({left:100-(2.2+(e-17)/53*95.6)+"%"}))(a)},a)),o.ZP.createElement("li",null,o.ZP.createElement("button",{onClick:()=>{t(a,!1),n()}},"Set for Next Game"),o.ZP.createElement("button",{onClick:()=>{t(a,!0),n()}},"Set & Restart")))},K=o.ZP.memo(q),Y=({isPaused:e,resetCount:t,gameTime:r})=>{const n=(0,o.sO)(0),a=(0,o.sO)(setTimeout((()=>{}))),[l,s]=(0,o.eJ)("00:00"),c=()=>{if(e)clearTimeout(a.current);else{n.current++;const e=Math.floor(n.current/60),t=n.current%60,o=`${e>9?e:`0${e}`}:${t>9?t:`0${t}`}`;r.current=o,s(o),a.current=setTimeout(c,1e3)}};return(0,o.d4)((()=>{clearTimeout(a.current),s("00:00"),n.current=0}),[t]),(0,o.d4)((()=>{e?clearTimeout(a.current):a.current=setTimeout(c,1e3)}),[e]),o.ZP.createElement("button",null,l)},Q=o.ZP.memo(Y),_=({val:e,size:t=0,press:r,active:n})=>o.ZP.createElement("button",{onClick:r,className:t<9?n?"active":void 0:"off",disabled:9===t,style:{"--w":`${Math.ceil(t/9*100)}%`}},e),X=o.ZP.memo(_),ee=({noteOptions:e,pressButton:t,play:r,lastN:n})=>{const{state:a}=B(),l=V.BUTTONS[a.type];return o.ZP.createElement("section",{className:"keys"},o.ZP.createElement("fieldset",null,V.BUTTONS.classic.map(((r,a)=>o.ZP.createElement(X,{key:r,val:l[a].toString(),size:e[r],press:()=>t(r),active:n===r})))),o.ZP.createElement("button",{onClick:r,className:"resume"},"Resume Game"),o.ZP.createElement("fieldset",{className:"notes"},V.BUTTONS.classic.map(((r,a)=>o.ZP.createElement(X,{key:r,val:l[a].toString(),size:e[r],press:()=>t(r,!0),active:n===r})))),o.ZP.createElement("button",{onClick:r,className:"start"},"Start New Game"))},te=o.ZP.memo(ee),re={system:"System",light:"Light",dark:"Dark"},ne={classic:"Numbers (Classic Sudoku)",emoji:"Emoji Sudoku 🤔",colors:"Color Sudoku 🔵",animals:"Animal Sudoku 🐠",sport:"Sport Items Sudoku ⚾",food:"Food Sudoku 🍿",places:"Travel Sudoku 🏖️",flowers:"Flower & Plants Sudoku 🌸",objects:"Objects Sudoku 🧸",transport:"Transport Sudoku 🛩️</la"},ae=({id:e,i:t,val:r,state:n,text:a,onChange:l})=>o.ZP.createElement("li",null,o.ZP.createElement("input",{type:"radio",id:`${e}${t}`,name:e,value:r,checked:n===r,onChange:l}),o.ZP.createElement("label",{htmlFor:`${e}${t}`},a)),oe=({showMenu:e,hideMenu:t})=>{const{state:r,dispatch:n}=B(),a=e=>{Z(e.target.value,(e=>{n({type:"ThemeChange",theme:e})}))},l=e=>{const t=e.target.value;Object.keys(V.BUTTONS).includes(t)&&n({type:"TypeChange",typeValue:t})};return o.ZP.createElement("nav",{className:e?"":"hidden"},o.ZP.createElement("button",{onClick:t},"×"),o.ZP.createElement("details",null,o.ZP.createElement("summary",null,"Color theme"),o.ZP.createElement("ul",null,Object.entries(re).map((([e,t],n)=>o.ZP.createElement(ae,{key:e,val:e,id:"theme",i:n,state:r.theme,text:t,onChange:a}))))),o.ZP.createElement("details",null,o.ZP.createElement("summary",null,"Game type"),o.ZP.createElement("ul",null,Object.entries(ne).map((([e,t],n)=>o.ZP.createElement(ae,{key:e,val:e,id:"type",i:n,state:r.type,text:t,onChange:l}))))))},le=o.ZP.memo(oe),se=()=>o.ZP.createElement("h1",null,o.ZP.createElement("b",null,"S"),o.ZP.createElement("b",null,"O"),o.ZP.createElement("b",null,"O")),ce=()=>o.ZP.createElement("svg",{viewBox:"0 0 24 24",fill:"none"},o.ZP.createElement("circle",{opacity:"0.5",cx:"12",cy:"12",r:"10"}),o.ZP.createElement("path",{d:"M13.8876 9.9348C14.9625 10.8117 15.5 11.2501 15.5 12C15.5 12.7499 14.9625 13.1883 13.8876 14.0652C13.5909 14.3073 13.2966 14.5352 13.0261 14.7251C12.7888 14.8917 12.5201 15.064 12.2419 15.2332C11.1695 15.8853 10.6333 16.2114 10.1524 15.8504C9.6715 15.4894 9.62779 14.7336 9.54038 13.2222C9.51566 12.7947 9.5 12.3757 9.5 12C9.5 11.6243 9.51566 11.2053 9.54038 10.7778C9.62779 9.26636 9.6715 8.51061 10.1524 8.1496C10.6333 7.78859 11.1695 8.11466 12.2419 8.76679C12.5201 8.93597 12.7888 9.10831 13.0261 9.27492C13.2966 9.46483 13.5909 9.69274 13.8876 9.9348Z"})),ie=()=>o.ZP.createElement("svg",{viewBox:"0 0 24 24",fill:"none"},o.ZP.createElement("circle",{opacity:"0.5",cx:"12",cy:"12",r:"10"}),o.ZP.createElement("g",null,o.ZP.createElement("path",{d:"M12 12V10",strokeLinecap:"round",strokeLinejoin:"round"}),o.ZP.createElement("animateTransform",{repeatCount:"indefinite",dur:"10s",to:"360 12 12",from:"0 12 12",type:"rotate",attributeName:"transform",attributeType:"xml"})),o.ZP.createElement("g",null,o.ZP.createElement("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),o.ZP.createElement("animateTransform",{repeatCount:"indefinite",dur:"1s",to:"360 12 12",from:"0 12 12",type:"rotate",attributeName:"transform",attributeType:"xml"}))),ue=()=>o.ZP.createElement("svg",{viewBox:"0 0 24 24",fill:"none"},o.ZP.createElement("circle",{opacity:"0.5",cx:"12",cy:"12",r:"10"}),o.ZP.createElement("path",{d:"M8 9.5C8 9.03406 8 8.80109 8.07612 8.61732C8.17761 8.37229 8.37229 8.17761 8.61732 8.07612C8.80109 8 9.03406 8 9.5 8C9.96594 8 10.1989 8 10.3827 8.07612C10.6277 8.17761 10.8224 8.37229 10.9239 8.61732C11 8.80109 11 9.03406 11 9.5V14.5C11 14.9659 11 15.1989 10.9239 15.3827C10.8224 15.6277 10.6277 15.8224 10.3827 15.9239C10.1989 16 9.96594 16 9.5 16C9.03406 16 8.80109 16 8.61732 15.9239C8.37229 15.8224 8.17761 15.6277 8.07612 15.3827C8 15.1989 8 14.9659 8 14.5V9.5Z"}),o.ZP.createElement("path",{d:"M13 9.5C13 9.03406 13 8.80109 13.0761 8.61732C13.1776 8.37229 13.3723 8.17761 13.6173 8.07612C13.8011 8 14.0341 8 14.5 8C14.9659 8 15.1989 8 15.3827 8.07612C15.6277 8.17761 15.8224 8.37229 15.9239 8.61732C16 8.80109 16 9.03406 16 9.5V14.5C16 14.9659 16 15.1989 15.9239 15.3827C15.8224 15.6277 15.6277 15.8224 15.3827 15.9239C15.1989 16 14.9659 16 14.5 16C14.0341 16 13.8011 16 13.6173 15.9239C13.3723 15.8224 13.1776 15.6277 13.0761 15.3827C13 15.1989 13 14.9659 13 14.5V9.5Z"})),pe=()=>o.ZP.createElement("svg",{viewBox:"0 0 24 24",fill:"none"},o.ZP.createElement("path",{d:"M9 12C9 12.5523 8.55228 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55228 11 9 11.4477 9 12Z",className:"dot"}),o.ZP.createElement("path",{d:"M13 12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12C11 11.4477 11.4477 11 12 11C12.5523 11 13 11.4477 13 12Z",className:"dot"}),o.ZP.createElement("path",{d:"M17 12C17 12.5523 16.5523 13 16 13C15.4477 13 15 12.5523 15 12C15 11.4477 15.4477 11 16 11C16.5523 11 17 11.4477 17 12Z",className:"dot"}),o.ZP.createElement("path",{opacity:"0.5",d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z"}));r(285),r(1637),r(6229),r(7330),r(2062),r(2262),r(4506),r(4916),r(3123);const me=e=>{const t=Array(81).fill(0);return e.forEach(((e,r)=>{return t[(n=r,9*(n%9+1)-(Math.floor(n/9)+1))]=e;var n})),t},de=()=>{const e=[1,2,3,4,5,6,7,8,9],t=[];for(;e.length>0;)t.push(...e.splice(Math.floor(Math.random()*e.length),1));return"123456789"===t.join("")?de():t},fe=e=>e.slice(0,5).map((e=>(e=>{const t=((e,t)=>e.map((e=>0===e?0:t[e-1])))(e,de()),r=(e=>{const t=[].concat(e),r=Math.floor(3*Math.random()),n=Math.floor(2*Math.random())+1;for(let e=0;e<81;e+=9){const a=t.splice(e+3*r,3);t.splice(e+(3*r+3*n)%9,0,...a)}return t})((e=>{const t=[].concat(e),r=Math.floor(3*Math.random()),n=Math.floor(2*Math.random())+1,a=t.splice(27*r,27),o=(27*r+27*n)%81;return t.splice(o,0,...a),t})(t));return((e,t,r)=>{let n=r;for(let r=1;r<=t;r++)n=e(n);return n})(me,Math.floor(2*Math.random())+1,r)})(e)));function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ve=()=>Array(81).fill(0),Pe=ve(),ge=e=>new Promise(((t,n)=>{const a=Date.now(),o=window.Worker?"number"==typeof e?new Worker(new URL(r.p+r.u(418),r.b)):new Worker(new URL(r.p+r.u(548),r.b)):null;o&&"function"==typeof o.postMessage?(o.postMessage(e),o.onmessage=({data:r})=>{Array.isArray(r)?t(r):n("worker data is not an array"),f(("number"==typeof e?"Generate":"Solve")+" worker",((Date.now()-a)/100).toFixed(1)),o.terminate()}):n("the worker was not initialized")})).catch((()=>(y(("number"==typeof e?"Generate":"Solve")+" worker failure"),ge(e)))),be=e=>ge(e),we=e=>e.reduce(((e,t,r)=>{if("number"!=typeof t||0===t)return e;const n=e[t];return e[t]="string"==typeof n?n+V.ZIP.HASH.at(r):V.ZIP.HASH.at(r),e}),[]).join(V.ZIP.HASHSPLIT).substring(1),Ee=V.ZIP.HASH.split("").reduce(((e,t,r)=>(e[t]=r,e)),{}),Oe=(e,t)=>{let r=0;const n=ve();return e.split(V.ZIP.HASHSPLIT).map(((e,t)=>{e.split("").map((e=>{r++,n[Ee[e]]=t+1}))})),t!==r&&y("Corrupted unzip",{puzzle:e,level:t.toString()}),n},Ze=(e,t)=>Object.keys(t).filter((r=>t[r].level===e)),Ce=(e,t,r,n)=>({type:"ZipedLevelsUpdated",zipedJSON:he(he({},e),{},{[t]:I(e[t],n,r)})}),ke=async(e,t,r,n)=>{const{puzzle:a,solved:o}=await(async(e,t,r,n)=>{const a=[];let o="";do{""!==o&&a.push(o),o=(l=e)[Math.floor(Math.random()*l.length)]}while(t.includes(o));var l;const s=Oe(o,r),c=await(e=>ge(e))(s);return a.length>0&&("function"==typeof n?n({type:"ZipedLevelUpdated",level:r,ziped:e.filter((e=>!a.includes(e)))}):y("Repeated Puzzles No Dispatch")),{puzzle:s,solved:c}})(e,t,r,n||void 0);return 81===a.length&&81===o.length&&{puzzle:a,solved:o}},Se=async(e,t,r,n,a)=>{const o=Date.now(),l=Math.max(Math.min(Number.isInteger(e)?e:30,70),17),s=r.ziped[l],c=((e,t)=>{const r=we(e);return(r?[r]:[]).concat(Object.keys(t.saved),Object.keys(t.stats))})(t,r);if(Array.isArray(s)&&s.length>0){const e=await ke(s,c,l,a);e?(c.push(we(e.puzzle)),n(e)):y("Picked empty puzzle")}else if(l>=23){const e=await be(l),t=we(e),r=await ke([t],c,l);r?(c.push(t),n(r)):y("Picked empty puzzle")}else y("Ziped array is empty and level < 23");if(!Array.isArray(s)||s.length<=5)if(l>=23){const e=await((e,t)=>Promise.all(Array.from({length:5},(()=>be(e).then((e=>we(e)))))))(l);a(Ce(r.ziped,l,c,e))}else if(r.levelsFetched.includes(l)){const e=Date.now(),t=((e,{saved:t,stats:r})=>Ze(e,t).concat(Ze(e,r)))(l,r),n=((e,t)=>{const r=[].concat(e);let n=[];for(let e=0;e<5;e++){const e=Math.floor(Math.random()*r.length);n.push(...r.splice(e,1))}return n})(t),o=fe(n.map((e=>Oe(e,l)))).map((e=>we(e)));f("Recycle 5 Puzzles",((Date.now()-e)/100).toFixed(1)),a(Ce(r.ziped,l,c,o))}else A(l,r,a,c);f(`New Level Generation: ${l}-${s&&s.length}`,((Date.now()-o)/100).toFixed(1))},je=()=>{const{state:e,dispatch:t}=B(),r=(0,o.sO)(!0),n=(0,o.sO)(0),a=(0,o.sO)("00:00"),l=(0,o.sO)(0),s=(0,o.sO)(Pe),c=(0,o.sO)(Pe),i=(0,o.sO)(L.level),[f,y]=(0,o.eJ)(!1),[h,Z]=(0,o.eJ)(!1),[j,z]=(0,o.eJ)(!0),[M,N]=(0,o.eJ)(!1),[T,$]=(0,o.eJ)(!0),[x,D]=(0,o.eJ)({}),[I,A]=(0,o.eJ)([]),[U,F]=(0,o.eJ)(-1),[J,H]=(0,o.eJ)(0),[G,V]=(0,o.eJ)([]),[R,q]=(0,o.eJ)(Pe);(0,o.d4)((()=>{ee(-1),V([])}),[s.current]);const Y=e=>((e,t,r,n)=>{if(e>0&&e<10){const a=t.indexOf(e);n(a>-1?{overlap:t.map(((t,n,o)=>w(t,n,a,o,r,e))),focus:a,lastN:e}:{overlap:C,focus:-1,lastN:0})}else 0===e&&n({overlap:t.map(((t,n,a)=>w(t,n,-1,a,r,e))),focus:-1,lastN:0})})(e,R,G,(({overlap:e,focus:t,lastN:r})=>{A(e),ee(t),H(r)})),_=e=>{if(e.stopPropagation(),e.stopImmediatePropagation(),T||j||G.length>0){if(e.preventDefault(),G.length>0){const t=parseInt(e.key,10);t.toString()===e.key&&R[U]===t&&E(R[U],0,!1,U,ae)}}else if(!(e.target instanceof HTMLInputElement)||e.target instanceof HTMLInputElement&&""!==e.target.value){const t=parseInt(e.key,10);t.toString()===e.key&&e.preventDefault(),"number"==typeof t&&Y(t)}},X=()=>{if(!0===j)return;const e=a.current.split(":");t({type:"UpdateGameTime",time:60*parseInt(e[0],10)+parseInt(e[1],10),ziped:we(s.current)})};(0,o.d4)((()=>(document.addEventListener("visibilitychange",X),window.addEventListener("pagehide",X,!1),()=>{document.removeEventListener("visibilitychange",X),window.removeEventListener("pagehide",X,!1)})),[j]),(0,o.d4)((()=>(window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_))),[R]);const ee=e=>{if(T||j)return;const t=R[e];"number"==typeof t&&0!==t&&H(t),F(e)};(0,o.d4)((()=>{J>-1&&A(R.map(((e,t,r)=>w(e,t,U,r,G,J))))}),[R,U,G,J]);const re=({puzzle:e,solved:r})=>{t({type:"StartGame",level:i.current,ziped:we(e)}),s.current=e,l.current++,c.current=r,H(0),q(e),z(!1),N(!1),k(e,D);const a=((Date.now()-n.current)/1e3).toFixed(1);((e,t,r)=>{d({id:"started",parameters:{level:e,puzzle:t,locale:m,timezone:p,loadingTime:r,complexity:`${e}:${r.split(".")[0]}:${m}:${p}`}})})(i.current,we(e),a)},ne=a=>{N(!0),$(!1),n.current=Date.now(),r.current=!1;const o="number"!=typeof a?i.current:a;(e=>{d({id:"start",parameters:{level:e,locale:m,timezone:p,touch:u,screen:`${window.innerWidth}x${window.innerHeight}`}})})(o),Se(o,s.current,e,re,t)},ae=(e,n,o)=>{"number"==typeof o&&0!==o&&H(o),q((o=>{const l=[...o];l[e]=n;const u=o[e],f="string"==typeof u?u:"",{overlapIndexes:y,cleanState:h}=((e,t,r)=>{const n=e[t],a=P(t).concat(g(t),b(t)),o=new Set(a);o.delete(t);const l=Array.from(o);let s=[];if("number"==typeof n)0!==n&&(s=l.filter((t=>e[t]===n)));else{const t=n.split(""),a=r.split("");if(t.length>a.length){const r=t.filter((e=>!a.includes(e)))[0];s=l.filter((t=>e[t]===parseInt(r,10)))}}const c=[...e];return l.forEach((e=>{const t=c[e];if("string"==typeof t){const r=t.split(""),a=r.filter((e=>parseInt(e,10)!==n));a.length!==r.length&&(0===a.length?c[e]=0:c[e]=a.join(""))}})),{overlapIndexes:s,cleanState:c}})(l,e,f);if(!r.current){const n=(v=h,w=c.current,v.every(((e,t)=>e===w[t]||0===e||"string"==typeof e)));if(n){k(h,D);const e=h.every((e=>"number"==typeof e&&e>0)),n=we(s.current),o=a.current.split(":"),l=60*parseInt(o[0],10)+parseInt(o[1],10);e?(t({type:"CompleteGame",time:l,ziped:n}),H(0),ee(-1),z(!0),$(!0),r.current=!0,((e,t,r)=>{d({id:"end",parameters:{time:r,level:e,puzzle:t,locale:m,timezone:p,complexity:`${e}:${r}:${m}:${p}`}})})(i.current,n,a.current),(0,S.Z)({particleCount:200,spread:50,ticks:250,origin:{y:.8}})):t({type:"SaveMoves",time:l,ziped:n,moves:JSON.stringify(h)})}y.length>0||!Boolean(n)?V([e,...y]):V([])}var v,w;return h}))},oe=e=>{M||(0!==e?(z(!0),ne(e)):r.current?ne():(X(),z((e=>!e))),O(U))},me=()=>oe(0),de=()=>Z((e=>!e));return o.ZP.createElement(o.ZP.Fragment,null,o.ZP.createElement(le,{showMenu:f,hideMenu:()=>y(!1)}),o.ZP.createElement("section",{className:"header"},o.ZP.createElement(K,{level:i.current,setLevel:(e,t)=>{i.current=e,v("level",e),t&&oe(e)},showLevel:h,close:de}),o.ZP.createElement("button",null,o.ZP.createElement(se,null)),o.ZP.createElement("button",{onClick:de,className:h?"active":void 0},(e=>e>=35?`Easy ${e}`:e>=29?`Medium ${e}`:e>=23?`Hard ${e}`:`Extreme ${e}`)(i.current)),o.ZP.createElement("button",{onClick:me,"aria-label":j?M?"Load":"Play":"Pause"},j?M?o.ZP.createElement(ie,null):o.ZP.createElement(ce,null):o.ZP.createElement(ue,null)),o.ZP.createElement(Q,{isPaused:j,resetCount:l.current,gameTime:a}),o.ZP.createElement("button",{onClick:()=>y((e=>!e)),"aria-label":"Settings"},o.ZP.createElement(pe,null))),o.ZP.createElement("section",{className:"puzzle"+(T?" fini":j?M?" load":" pause":"")},R.map(((e,t)=>o.ZP.createElement(W,{i:t,key:t,fieldVal:e,initVal:s.current[t],focus:U,setFocus:ee,focusValue:R[U]||0,puzleUpdate:ae,overlap:I[t]})))),o.ZP.createElement(te,{noteOptions:x,pressButton:(e,t=!1)=>{U<0||U>-1&&"number"==typeof R[U]&&0!==R[U]&&R[U]!==e?Y(e):U>-1&&0===s.current[U]&&("string"==typeof R[U]||0===R[U]?E(R[U],e,t,U,ae):R[U]===e&&E(R[U],0,t,U,ae),O(U))},play:me,lastN:J}))},ze=o.ZP.memo(je);(()=>{const e=h("theme")||"system";Z(e,(()=>{})),(e=>{if(!window.matchMedia)return;const t=window.matchMedia("(prefers-color-scheme: dark)");e(t.matches),t.addEventListener("change",(t=>e(t.matches)))})((e=>document.body.id=e?"dark":"light"))})(),window.addEventListener("error",(e=>y(`${e.type}: ${e.message}`))),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js")}));const Me=document.body.firstElementChild;(0,l.so)(Me).render(o.ZP.createElement(o.ZP.StrictMode,null,o.ZP.createElement(G,null,o.ZP.createElement(ze,null))))}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var l=1/0;for(u=0;u<e.length;u++){for(var[r,a,o]=e[u],s=!0,c=0;c<r.length;c++)(!1&o||l>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(s=!1,o<l&&(l=o));if(s){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.u=e=>e+"."+{418:"4cbd",548:"874a"}[e]+".js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",(()=>{n.b=document.baseURI||self.location.href;var e={143:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[l,s,c]=r,i=0;if(l.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var u=c(n)}for(t&&t(r);i<l.length;i++)o=l[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.webpackChunksudoku=self.webpackChunksudoku||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[321,977],(()=>n(1211)));a=n.O(a)})();