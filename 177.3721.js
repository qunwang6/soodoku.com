(()=>{"use strict";var e,t,o={8177:(e,t,o)=>{function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o(3948),o(2707);const n=70,i=23,s=36,l=(e,t)=>[...Array(e).keys()].map((e=>t(e))),u=l(9,(e=>e+1)),a={getRow:e=>e%9,getCol:e=>Math.floor(e/9),getIndex:(e,t)=>9*t+e,getZone:(e,t)=>{const o=void 0===t?e:9*t+e,r=a.getRow(o),n=a.getCol(o),i=Math.floor(n/3);return 3*Math.floor(r/3)+i},getZoneIndexs:(e=0)=>{let t=[0,1,2],o=[0,1,2],r=[];for(let n in o){let i=o[n];for(let o in t){let n=t[o];r.push(9*(i+3*Math.floor(e/3))+(n+e%3*3))}}return r}},f=e=>{const t=null==e?0:e.length;if(!t)return[];let o=-1;const r=t-1,n=[].concat(e);for(;++o<t;){const e=o+Math.floor(Math.random()*(r-o+1)),t=n[e];n[e]=n[o],n[o]=t}return n},h=(e,t,o,r,n,i)=>{let s,l=a.getRow(n),u=a.getCol(n),f=a.getZone(n);if(n>=81)return!0;if(-1!==e[n])return h(e,t,o,r,n+1,i);for(let a in i)if(s=i[a],!t[l][s]&&!o[u][s]&&!r[f][s]){if(e[n]=s,t[l][s]=!0,o[u][s]=!0,r[f][s]=!0,h(e,t,o,r,n+1,i))return!0;e[n]=-1,t[l][s]=!1,o[u][s]=!1,r[f][s]=!1}return!1},c=(e,t,o,r,n,i,s)=>{if(s.finishes>1)return;if(n>=81){for(let t=0;t<e.length;++t)if(-1==e[t])return;return s.finishes++,void(s.answer=e)}let l,u=a.getRow(n),f=a.getCol(n),h=a.getZone(n);if(-1===e[n])for(let a in i)l=i[a],t[u][l]||o[f][l]||r[h][l]||(e[n]=l,t[u][l]=!0,o[f][l]=!0,r[h][l]=!0,c([...e],[...t],[...o],[...r],n+1,i,s),e[n]=-1,t[u][l]=!1,o[f][l]=!1,r[h][l]=!1);else c(e,t,o,r,n+1,i,s)};class g{constructor(e,t=!1){if(r(this,"puzzle",void 0),r(this,"answer",void 0),r(this,"timecount",void 0),this.puzzle=e,!e||81!=e.length)throw new Error("is not a 9 * 9 matrix sudoku puzzle");let o,n,i,s=[],g=l(9,(()=>l(10,(()=>!1)))),p=l(9,(()=>l(10,(()=>!1)))),w=l(9,(()=>l(10,(()=>!1))));this.puzzle.forEach(((e,t)=>{o=a.getRow(t),n=a.getCol(t),i=a.getZone(t),-1!==e&&(g[o][e]=!0,p[n][e]=!0,w[i][e]=!0),s.push(e)}));let d=!1;const m=(new Date).getTime();let v=f(u),b=-1;for(let e=0;e<81;++e)if(-1===s[e]){b=e;break}if(t){const e={count:0,finishes:0};if(c(s,g,p,w,b,v,e),e.finishes>1)throw new Error("puzzle is not one-solution sudoku");0==e.finishes?d=!1:(s=e.answer,d=!0)}else d=h(s,g,p,w,b,v);if(!d)throw new Error("not found the solution. is that you give me the puzzle with mistake?");this.answer=s,this.timecount=(new Date).getTime()-m}getPuzzle(){return this.puzzle}getSolution(){return this.answer}}const p=(e,t)=>{t>=10&&(console.log(`reduce the difficulty : ${e} -> ${e-2}`),t=1,e-=2);let o=0,r=f(l(9,(e=>e))),n=l(81,(e=>4==a.getZone(e%9,e/9)?r[o++]+1:-1)),i=((e,t)=>{const o=l(9,(e=>a.getZoneIndexs(e)[Math.random()])).sort(),r=[];e.map(((e,t)=>{o.length>0&&o[0]==t?o.splice(0,1):r.push(t)}));let n=f(r),i=0;for(let o in n){if(i>=t)break;let r=n[o];if(-1!=e[r]){let t=e[r];e[r]=-1;try{i++,new g(e,!0)}catch(o){e[r]=t,i--}}}return i==t?e:[]})(new g(n).getSolution(),e);return 0===i.length?p(e,t+1):i};onmessage=function({data:e}){if(isNaN(e))postMessage("Please write a number");else{const t=Date.now(),o=((e=s)=>{const t=Math.max(Math.min(Math.round(e),n),i);return p(81-t,1)})(e).map((e=>-1===e?0:e)),r=Date.now();console.log(`Complexity ${e}. Time ${(r-t)/1e3}.`),postMessage(o)}}}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return o[e].call(i.exports,i,i.exports,n),i.exports}n.m=o,n.x=()=>{var e=n.O(void 0,[623],(()=>n(8177)));return n.O(e)},e=[],n.O=(t,o,r,i)=>{if(!o){var s=1/0;for(f=0;f<e.length;f++){for(var[o,r,i]=e[f],l=!0,u=0;u<o.length;u++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](o[u])))?o.splice(u--,1):(l=!1,i<s&&(s=i));if(l){e.splice(f--,1);var a=r();void 0!==a&&(t=a)}}return t}i=i||0;for(var f=e.length;f>0&&e[f-1][2]>i;f--)e[f]=e[f-1];e[f]=[o,r,i]},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[])),n.u=e=>"corejs.48bf.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",(()=>{var e={177:1};n.f.i=(t,o)=>{e[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunksudoku=self.webpackChunksudoku||[],o=t.push.bind(t);t.push=t=>{var[r,i,s]=t;for(var l in i)n.o(i,l)&&(n.m[l]=i[l]);for(s&&s(n);r.length;)e[r.pop()]=1;o(t)}})(),t=n.x,n.x=()=>n.e(623).then(t),n.x()})();